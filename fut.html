<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="candle.ico">
    <title>Index Futures</title>
    <style>
      body {background-color: rgb(243, 246, 250);}
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-lg-4" data-product="ES"></div>
        <div class="col-lg-4" data-product="NQ"></div>
        <div class="col-lg-4" data-product="RTY"></div>
      </div>
    </div>

    <script>
      const CONTRACT = {
        monthYear: 'H6',
        year: '2026',
        monthName: 'Mar'
      };

      const PRODUCTS = {
        ES: { name: 'E-mini S&P 500', finviz: 'ES' },
        NQ: { name: 'E-mini Nasdaq-100', finviz: 'NQ' },
        RTY: { name: 'E-mini Russell 2000 Index', finviz: 'ER2' }
      };

      document.querySelectorAll('[data-product]').forEach(col => {
        const cme = col.dataset.product;
        const { name, finviz } = PRODUCTS[cme];
        
        col.innerHTML = `
          ${['i5', 'h', 'd'].map(tf => 
            `<img src="https://charts2-node.finviz.com/chart.ashx?cs=m&t=%40${finviz}&tf=${tf}&s=linear&ct=candle_stick" class="p-1"/>`
          ).join('<br>')}
          <br>
          <a href="https://www.cmegroup.com/apps/cmegroup/widgets/productLibs/esignal-charts.html?${
            new URLSearchParams({
              type: 'p',
              code: cme,
              title: `Chart - ${CONTRACT.monthName} ${CONTRACT.year} ${name}`,
              venue: '0',
              monthYear: CONTRACT.monthYear,
              year: CONTRACT.year,
              exchangeCode: 'XCME',
              interval: '30'
            })
          }">${cme} on CME</a>
        `;
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
